#include <SPI.h>
#include <nRF24L01.h>
#include <RF24.h>
RF24 radio(9, 10); // CE,CSN on JS Shield 9/10
const byte address[6] = "00001";

//Joystick Inputs
int x_key = A1;
int y_key = A0;
long x_pos;
long y_pos;

// Button Inputs
const byte PIN_BUTTON_RIGHT = 3; // focus ++
const byte PIN_BUTTON_UP = 2; // zoom ++
const byte PIN_BUTTON_DOWN = 4; // zoom --
const byte PIN_BUTTON_LEFT = 5; // focus --
const byte PIN_BUTTON_E = 6;
const byte PIN_BUTTON_F = 7;

boolean pressed_UP = false;
boolean pressed_RIGHT = false;
boolean pressed_DOWN = false;
boolean pressed_LEFT = false;
boolean pressed_E = false;
boolean pressed_F = false;

long pos[6];

void setup() {
  radio.begin();
  radio.openWritingPipe(address);
  radio.setRetries(15, 15);
  radio.setPALevel(RF24_PA_MAX); // in ascending order of Power, MIN, LOW, HIGH, MAX
  radio.stopListening(); // sets this as trasmitter
  Serial.begin(9600);

  pinMode (x_key, INPUT) ;
  pinMode (y_key, INPUT) ;

  pinMode(PIN_BUTTON_RIGHT, INPUT);
  digitalWrite(PIN_BUTTON_RIGHT, HIGH);

  pinMode(PIN_BUTTON_UP, INPUT);
  digitalWrite(PIN_BUTTON_UP, HIGH);

  pinMode(PIN_BUTTON_LEFT, INPUT);
  digitalWrite(PIN_BUTTON_LEFT, HIGH);

  pinMode(PIN_BUTTON_DOWN, INPUT);
  digitalWrite(PIN_BUTTON_DOWN, HIGH);

  pinMode(PIN_BUTTON_E, INPUT);
  digitalWrite(PIN_BUTTON_E, HIGH);

  pinMode(PIN_BUTTON_F, INPUT);
  digitalWrite(PIN_BUTTON_F, HIGH);



}
/*
@@@JASON@@@@

Please create a way to send all 8 pieces of information over pos array

+ look at https://github.com/psfree/caps_ard for receiver code to do receiving as well

*/
void loop() {
  x_pos = analogRead (x_key) ;
  y_pos = analogRead (y_key) ;
  pos[0] = x_pos;
  pos[1] = y_pos;
  Serial.println(x_pos);
  Serial.println(y_pos);
  radio.write(&pos, sizeof(pos));
  //dio.write(&y_pos, sizeof(y_pos));
}
